(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[501],{948:(e,t,r)=>{Promise.resolve().then(r.bind(r,4530))},1439:(e,t,r)=>{"use strict";r.d(t,{F:()=>i});let i={id:133717,name:"Metis Hyperion Testnet",nativeCurrency:{name:"Test Metis",symbol:"tMETIS",decimals:18},rpcUrls:{default:{http:["https://hyperion-testnet.metisdevops.link"]}},blockExplorers:{default:{name:"Hyperion Explorer",url:"https://hyperion-testnet-explorer.metisdevops.link"}},testnet:!0}},1973:(e,t,r)=>{"use strict";r.d(t,{k:()=>a});var i=r(9592),s=r(3041);class a extends s._y{#e;#t;constructor(e,t,r){let s=Object.assign({},null!=r?r:{},{batchMaxCount:1});(0,i.MR)(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,s),this.#t=null,r&&r.providerInfo&&(this.#t=r.providerInfo),this.#e=async(t,r)=>{let i={method:t,params:r};this.emit("debug",{action:"sendEip1193Request",payload:i});try{let t=await e.request(i);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(t){let e=Error(t.message);throw e.code=t.code,e.data=t.data,e.payload=i,this.emit("debug",{action:"receiveEip1193Error",error:e}),e}}}get providerInfo(){return this.#t}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){(0,i.MR)(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{let t=await this.#e(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);let t=await this.send("eth_accounts",[]);return"number"==typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter(t=>t.toLowerCase()===e).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(t){let e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(e)}static async discover(e){if(null==e&&(e={}),e.provider)return new a(e.provider);let t=e.window?e.window:"undefined"!=typeof window?window:null;if(null==t)return null;let r=e.anyProvider;if(r&&t.ethereum)return new a(t.ethereum);if(!("addEventListener"in t&&"dispatchEvent"in t&&"removeEventListener"in t))return null;let s=e.timeout?e.timeout:300;return 0===s?null:await new Promise((n,l)=>{let d=[],c=e=>{d.push(e.detail),r&&o()},o=()=>{if(clearTimeout(u),d.length){if(e&&e.filter){let t=e.filter(d.map(e=>Object.assign({},e.info)));if(null==t)n(null);else if(t instanceof a)n(t);else{let e=null;if(t.uuid&&(e=d.filter(e=>t.uuid===e.info.uuid)[0]),e){let{provider:t,info:r}=e;n(new a(t,void 0,{providerInfo:r}))}else l((0,i.xz)("filter returned unknown info","UNSUPPORTED_OPERATION",{value:t}))}}else{let{provider:e,info:t}=d[0];n(new a(e,void 0,{providerInfo:t}))}}else n(null);t.removeEventListener("eip6963:announceProvider",c)},u=setTimeout(()=>{o()},s);t.addEventListener("eip6963:announceProvider",c),t.dispatchEvent(new Event("eip6963:requestProvider"))})}}},4530:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var i=r(5155),s=r(6874),a=r.n(s),n=r(2115),l=r(3041),d=r(6872),c=r(5062),o=r(2037),u=r(1439),h=r(6172),m=r(5938);let f={institutionWalletAddress:"",certificateName:"",certificateYear:""};function x(){let[e,t]=(0,n.useState)(f),[r,s]=(0,n.useState)(null),[x,p]=(0,n.useState)(!1),[g,v]=(0,n.useState)(null),[w,b]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{await (0,h.LK)();let e=await (0,h.Vy)();s(e)}catch(e){}})()},[]);let N=(0,n.useMemo)(()=>{let t=Number(e.certificateYear);return(0,c.PW)(e.institutionWalletAddress)&&e.certificateName.trim().length>1&&t>=1900&&t<=3e3},[e]);function y(e,r){t(t=>({...t,[e]:r})),v(null),b(null)}async function j(t){if(t.preventDefault(),v(null),b(null),!N){v("Please provide a valid institution wallet address, certificate name, and year (1900–3000).");return}try{p(!0);let t=new l.FR("https://hyperion-testnet.metisdevops.link"),r=new d.NZ("0xC04b063F5Fd9F03B67359DE79d3b18a55f73cB0c",m.Q,t);console.log("Calling expandCertificateDetails with:",{institutionWalletAddress:(0,o.b)(e.institutionWalletAddress),certificateName:e.certificateName,certificateYear:Number(e.certificateYear)});let i=await r.expandCertificateDetails((0,o.b)(e.institutionWalletAddress),e.certificateName,Number(e.certificateYear));console.log("Raw contract output:",i);let s={InstitutionAddress:i.InstitutionAddress||i[0],IssuerAddress:i.IssuerAddress||i[1],InstitutionName:i.InstitutionName||i[2],CertificateName:i.CertificateName||i[3],CertificateId:i.CertificateId||i[4],CertificateYear:(i.CertificateYear||i[5]).toString(),Uri:i.Uri||i[6],MerkleRoot:i.MerkleRoot||i[7],CertificateTokenQuantity:(i.CertificateTokenQuantity||i[8]).toString()};console.log("Parsed certificate details:",s),b(s)}catch(t){console.error("Error details:",t);let e=t.reason||t.message||"Failed to fetch certificate details.";if("CALL_EXCEPTION"===t.code&&t.data)try{var r;let i=contract.interface.parseError(t.data);e=(null==i?void 0:null===(r=i.args)||void 0===r?void 0:r[0])||(null==i?void 0:i.name)||e}catch(e){console.error("Error parsing revert reason:",e)}v(e)}finally{p(!1)}}return(0,i.jsx)("main",{className:"min-h-screen bg-gradient-to-b from-[#0b0f1a] to-black text-white",children:(0,i.jsxs)("div",{className:"mx-auto max-w-4xl px-6 py-12",children:[(0,i.jsxs)("header",{className:"mb-8 flex items-center justify-between",children:[(0,i.jsx)(a(),{href:"/",className:"text-xl font-semibold tracking-tight",children:"CERTHUB"}),(0,i.jsx)("div",{className:"text-sm",children:r?(0,i.jsxs)("span",{className:"rounded-md bg-emerald-500/10 px-3 py-1 text-emerald-300",children:["✅ Connected: ",r.slice(0,6),"…",r.slice(-4)]}):(0,i.jsx)("span",{className:"rounded-md bg-yellow-500/10 px-3 py-1 text-yellow-300",children:"⚠️ Wallet not connected"})})]}),(0,i.jsxs)("section",{className:"mb-10",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold sm:text-4xl",children:"Inspect Certificate Details"}),(0,i.jsx)("p",{className:"mt-2 text-white/70",children:"View details of a certificate deployed on the Hyperion Testnet by providing the institution's wallet address, certificate name, and year."})]}),(0,i.jsxs)("form",{onSubmit:j,className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm text-white/70",children:"Institution Wallet Address *"}),(0,i.jsx)("input",{className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2 outline-none focus:ring-2 focus:ring-cyan-400",value:e.institutionWalletAddress,onChange:e=>y("institutionWalletAddress",e.target.value),placeholder:"0x...",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm text-white/70",children:"Certificate Name *"}),(0,i.jsx)("input",{className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2 outline-none focus:ring-2 focus:ring-cyan-400",value:e.certificateName,onChange:e=>y("certificateName",e.target.value),placeholder:"Advanced Solidity",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm text-white/70",children:"Certificate Year *"}),(0,i.jsx)("input",{type:"number",min:1900,max:3e3,className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2 outline-none focus:ring-2 focus:ring-cyan-400",value:e.certificateYear,onChange:e=>y("certificateYear",e.target.value),placeholder:"2025",required:!0})]})]}),g&&(0,i.jsx)("div",{className:"mt-4 rounded-lg border border-red-500/30 bg-red-500/10 p-3 text-sm text-red-300",children:g}),w&&(0,i.jsxs)("div",{className:"mt-4 rounded-xl border border-emerald-500/30 bg-emerald-500/10 p-4",children:[(0,i.jsx)("h3",{className:"mb-2 text-lg font-semibold text-emerald-300",children:"Certificate Details"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-3 text-sm text-white/90",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-white/70",children:"Institution Name:"})," ",w.InstitutionName||"Not provided"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-white/70",children:"Certificate Name:"})," ",w.CertificateName]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-white/70",children:"Certificate ID:"})," ",w.CertificateId]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-white/70",children:"Year:"})," ",w.CertificateYear]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-white/70",children:"Institution Address:"})," ",(0,i.jsxs)("a",{className:"underline hover:text-emerald-200",href:"".concat(u.F.blockExplorers.default.url,"/address/").concat(w.InstitutionAddress),target:"_blank",rel:"noreferrer",children:[w.InstitutionAddress.slice(0,6),"…",w.InstitutionAddress.slice(-4)]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-white/70",children:"Issuer Address:"})," ",(0,i.jsxs)("a",{className:"underline hover:text-emerald-200",href:"".concat(u.F.blockExplorers.default.url,"/address/").concat(w.IssuerAddress),target:"_blank",rel:"noreferrer",children:[w.IssuerAddress.slice(0,6),"…",w.IssuerAddress.slice(-4)]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-white/70",children:"URI:"})," ",(0,i.jsx)("a",{className:"underline hover:text-emerald-200",href:w.Uri,target:"_blank",rel:"noreferrer",children:w.Uri})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-white/70",children:"Merkle Root:"})," ",(0,i.jsxs)("span",{className:"font-mono",children:[w.MerkleRoot.slice(0,10),"…",w.MerkleRoot.slice(-8)]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-white/70",children:"Token Quantity:"})," ",w.CertificateTokenQuantity]})]})]}),(0,i.jsxs)("div",{className:"mt-6 flex items-center gap-3",children:[(0,i.jsx)("button",{type:"submit",disabled:x||!N,className:"rounded-lg bg-emerald-600 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-700 disabled:opacity-50",children:x?"Fetching…":"Inspect Certificate"}),(0,i.jsx)(a(),{href:"/",className:"text-white/70 hover:underline",children:"Back to Home"})]})]}),(0,i.jsxs)("div",{className:"mt-10 rounded-xl border border-white/10 bg-white/5 p-4",children:[(0,i.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"What happens next?"}),(0,i.jsxs)("ul",{className:"list-disc space-y-1 pl-5 text-sm text-white/70",children:[(0,i.jsx)("li",{children:"Certificate details are fetched from the Hyperion Testnet."}),(0,i.jsx)("li",{children:"View the institution, issuer, and certificate metadata, including the Merkle root and token quantity."}),(0,i.jsx)("li",{children:"Use these details to verify or claim the certificate."})]})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,41,172,441,684,358],()=>t(948)),_N_E=e.O()}]);